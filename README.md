# finance-transaction-cacher

### Для запуска приложения:

```
    make run
```

Если приложение запускается впервые, необходимо применить миграции к базе данных:

```
make migrate
```

### Авторизация и аутентификация: 
    1. POST `/auth/sign-in` - POST-запрос на регистрацию в API
        - Принимает в body JSON: {"name": "name1", "username":"username1", "password":"password"}
        После этого пароль хэшируется и записывается в БД
    2. POST `auth/sign-up` - POST-запрос на авторизацию в API
        - Принимает в body JSON: { "username":"username1", "password":"password"}
### Эндпойнты
    1. POST `/api/finance/create-wallet/` - POST-запрос для создания кошелька

    2. GET `/api/finance/top-up` - POST-запрос для пополнения баланса пользователя
       - Принимает в body JSON: {"amount":"0.00"}
       - В ответе выдаёт id созданной транзакции
    3. POST `/api/finance/take-out` - POST-запрос для снятия денег с баланса 
       - Принимает в body JSON: {"amount":"0.00"}
       - В ответе выдаёт id созданной транзакции
    4. POST `/api/finance/send` - POST-запрос на отправку денег на другой кошелёк
       - Принмает в body JSON: {"user_id_to":"{userId}", "amount":"0.00"}, где {userId} - это id пользователя, которому переводятся деньги
       - В ответе возвращается Id созданной транзакции (транзакции на отправку) 
       - В этом запросе данные кэшируются в Redis, и в случае если в момент отправки сервис отвалился и не записал данные в бд, при повторном запуске данные подтягиваются из Redis'a, после чего удаляются оттуда 

